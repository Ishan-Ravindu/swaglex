# =============================================================================
# SWAGLEX DOCKER DEPLOYMENT - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and configure your specific values
# Never commit .env file to version control!

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
NODE_ENV=production
PORT=3000
LOG_LEVEL=info

# Application URLs
APP_URL=http://localhost:3000
FRONTEND_URL=http://localhost:3000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DB_HOST=postgres
DB_PORT=5432
DB_NAME=swaglex_prod
DB_USER=swaglex
DB_PASS=your_secure_database_password_here

# Database connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_ACQUIRE=30000
DB_POOL_IDLE=10000

# =============================================================================
# REDIS CACHE CONFIGURATION
# =============================================================================
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=your_redis_password_here
REDIS_DB=0

# Cache settings
CACHE_ENABLED=true
CACHE_PROVIDER=redis
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
# JWT Configuration (REQUIRED - Generate secure random strings)
JWT_SECRET=your_super_secure_jwt_secret_at_least_32_characters_long
JWT_EXPIRE=7d
JWT_REFRESH_EXPIRE=30d

# Session Configuration
SESSION_SECRET=your_session_secret_at_least_32_characters_long
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_MAX_AGE=86400000

# Security Features
SECURITY_RATE_LIMIT_ENABLED=true
SECURITY_RATE_LIMIT_WINDOW=900000
SECURITY_RATE_LIMIT_MAX=100
SECURITY_HELMET_ENABLED=true
SECURITY_CORS_ENABLED=true
SECURITY_CORS_ORIGIN=http://localhost:3000

# =============================================================================
# OAUTH PROVIDERS (Optional)
# =============================================================================
# Google OAuth
OAUTH_GOOGLE_ENABLED=false
OAUTH_GOOGLE_ID=your_google_oauth_client_id
OAUTH_GOOGLE_SECRET=your_google_oauth_client_secret

# GitHub OAuth
OAUTH_GITHUB_ENABLED=false
OAUTH_GITHUB_ID=your_github_oauth_client_id
OAUTH_GITHUB_SECRET=your_github_oauth_client_secret

# =============================================================================
# EMAIL CONFIGURATION (Optional)
# =============================================================================
EMAIL_ENABLED=false
EMAIL_PROVIDER=smtp
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your_email@gmail.com
EMAIL_PASS=your_email_password
EMAIL_FROM="Swaglex API <noreply@example.com>"

# =============================================================================
# FILE STORAGE (Optional)
# =============================================================================
STORAGE_PROVIDER=local
STORAGE_LOCAL_PATH=./uploads

# AWS S3 (if using S3)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_S3_BUCKET=your-s3-bucket-name

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
# Application Monitoring
MONITORING_ENABLED=true
METRICS_ENABLED=true
HEALTH_CHECK_ENABLED=true

# External Monitoring (Optional)
SENTRY_DSN=your_sentry_dsn_here
NEW_RELIC_LICENSE_KEY=your_new_relic_license_key

# Logging Configuration
LOG_LEVEL=info
LOG_FILE_ENABLED=true
LOG_FILE_PATH=./logs/app.log
LOG_FILE_MAX_SIZE=10485760
LOG_FILE_MAX_FILES=5

# =============================================================================
# GRAFANA MONITORING (Optional)
# =============================================================================
GRAFANA_USER=admin
GRAFANA_PASSWORD=your_secure_grafana_password

# =============================================================================
# SSL/TLS CONFIGURATION (Production)
# =============================================================================
SSL_ENABLED=false
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-s3-bucket

# =============================================================================
# FEATURE FLAGS
# =============================================================================
FEATURE_USER_REGISTRATION=true
FEATURE_PASSWORD_RESET=true
FEATURE_EMAIL_VERIFICATION=true
FEATURE_TWO_FACTOR_AUTH=false
FEATURE_API_VERSIONING=true
FEATURE_RATE_LIMITING=true
FEATURE_REQUEST_LOGGING=true

# =============================================================================
# DEVELOPMENT/DEBUG (Only for development)
# =============================================================================
DEBUG_ENABLED=false
DEBUG_SQL_LOGGING=false
DEBUG_REDIS_LOGGING=false

# =============================================================================
# EXTERNAL SERVICES (Optional)
# =============================================================================
# Payment Processing
STRIPE_PUBLIC_KEY=pk_test_your_stripe_public_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Analytics
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX-X

# =============================================================================
# CONTAINER RESOURCE LIMITS
# =============================================================================
# These are used in docker-compose for resource management
CONTAINER_MEMORY_LIMIT_APP=512m
CONTAINER_CPU_LIMIT_APP=0.5
CONTAINER_MEMORY_LIMIT_DB=1g
CONTAINER_CPU_LIMIT_DB=1.0
CONTAINER_MEMORY_LIMIT_REDIS=256m
CONTAINER_CPU_LIMIT_REDIS=0.25

# =============================================================================
# NOTES FOR PRODUCTION DEPLOYMENT
# =============================================================================
# 1. Generate secure random strings for all secrets
# 2. Use strong passwords for database and Redis
# 3. Enable SSL/TLS for production
# 4. Configure proper CORS origins
# 5. Set up monitoring and alerting
# 6. Configure automated backups
# 7. Use environment-specific configurations
# 8. Review and adjust resource limits based on your infrastructure
